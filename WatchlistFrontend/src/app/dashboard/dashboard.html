<div class="dashboard-container">
  <header>
    <h1>Dashboard</h1>
    
  </header>


  <!-- Loading Spinner -->
  <div *ngIf="isLoading" class="loading">
    <p>Loading dashboard data...</p>
  </div>

  <!-- Main content grid -->
  <div class="dashboard-grid" *ngIf="!isLoading && dashboardData">
    <!-- Summary Cards -->
    <div class="summary-cards">
      <div class="card">
        <h4>Total Items</h4>
        <p>{{ dashboardData.totalItems }}</p>
      </div>
      <div class="card">
        <h4>Completed</h4>
        <p>{{ dashboardData.completedItems }}</p>
      </div>
      <div class="card">
        <h4>Favorites</h4>
        <p>{{ dashboardData.favoriteItems }}</p>
      </div>
      <div class="card">
        <h4>Favorite Genre</h4>
        <p>{{ dashboardData.favoriteGenre || 'N/A' }}</p>
      </div>
    </div>

    <!-- ===== THE CHART CONTAINER HAS BEEN REMOVED FROM HERE ===== -->
    <!-- Top Rated Items Table -->
    <div class="top-rated-container card">
      <h4>Top 5 Rated Items</h4>
      <table>
        <thead>
          <tr>
            <th>Title</th>
            <th>Type</th>
            <th>Year</th>
            <th>Rating</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of dashboardData.topRatedItems">
            <td>{{ item.title }}</td>
            <td>{{ item.itemType }}</td>
            <td>{{ item.releaseYear }}</td>
            <td>{{ item.rating.toFixed(1) }}</td>
          </tr>
          <tr *ngIf="dashboardData.topRatedItems.length === 0">
            <td colspan="4">No rated items found.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
